<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0">

    <meta id="jdomain" data-name="{{ domain }}" data-other="{{other}}">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">

    <!-- update the version number as needed -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    
    <!-- CSS Style files -->
    <link rel="stylesheet" href="https://unpkg.com/buefy/dist/buefy.min.css">
    <link rel="stylesheet" href="static/css/elena.css">
    <link rel="stylesheet" href="static/css/bootstrap.min.css">
  </head>

  <body>

    <script>
      function handleEnterSpaceClick(event) {
        // Check if the pressed key is either space (code 32) or enter (code 13)
        if (event.code === 'Space' || event.code === 'Enter') {
          event.preventDefault(); // Prevent the default action (e.g., scrolling for space key)

          // Get the currently focused element
          const focusedElement = document.activeElement;

          // Trigger a click on the focused element
          focusedElement.click();
        }
      }
    </script>

    <div id="pick_mod">
        <div id="selectmodtext">Hello there! Please select a lab module.</div>
        </br>
        </br>
{% for fn_module_name,module_name in pick_mod.items() %}
        <p class="modsel" tabindex="0" onkeydown="handleEnterSpaceClick(event)" onclick="{{fn_module_name}}_start_lab()">{{module_name}}</p>
        </br>
        </br>
{% endfor %}
    </div>

    <div id="lab_manual">
    </div>

    <div class="_final_score" id="final_score">
    </div>

    <div id="app">
        <div id="top_chat">
            <div class="_chat" id="chat">
                </br>
            </div>
        </div>
    </div>

    <div id="kbar" class="pointbar">
      <span>
        <!--- https://stackoverflow.com/questions/8523028/left-center-and-right-aligned-text-on-the-same-line -->
        <div class="back-arrow-bubble" style="float: left;">
            <img width="32" class="back-arrow-icon" tabindex="0" onkeydown="handleEnterSpaceClick(event)" onclick="back_button_click();" alt="Arrow full left - Picol.org, CC BY 3.0 &lt;https://creativecommons.org/licenses/by/3.0&gt;, via Wikimedia Commons" src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/97/Arrow_full_left.svg/32px-Arrow_full_left.svg.png"></img>
        </div>
        <div style="margin: 0 auto; width:10%;">{{ point_text | safe }}<span id="pointcount">0</span></div>
      </span>
    </div>
    
    <!-- Individual components -->
    <script src="https://unpkg.com/buefy/dist/components/table"></script>
    <script src="https://unpkg.com/buefy/dist/components/input"></script>
    <script src="https://cdn.jsdelivr.net/npm/@magenta/image@^0.2.1"></script>
    <script src="static/js/elena_top.js"></script>

{% for js_file in module_js_globals %}
    <script src="{{ js_file }}" type="application/javascript"></script>
{% endfor %}
{% for js_file in js_files %}
    <script src="{{ js_file }}" type="application/javascript"></script>
{% endfor %}
{% for js_file in module_subjs %}
    <script src="{{ js_file }}" type="application/javascript"></script>
{% endfor %}
{% for js_file in elenajs %}
    <script src="{{ js_file }}" type="application/javascript"></script>
{% endfor %}
    <script src="static/js/bootstrap.js" type="text/javascript"></script>

  </body>
</html>
